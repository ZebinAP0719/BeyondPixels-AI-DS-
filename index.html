<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detective Game</title>
    <link rel="stylesheet" href="styles/main.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/phaser/3.60.0/phaser.min.js"></script>
    <style>
        *{
            margin: 0;
        }
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #000; /* Optional: set background color */
        }
        canvas {
            margin: 0px;
            display: block;
        }
        
    </style>
</head>
<body>
    
    <!-- Config and game setup using ES modules -->
    <script type="module">
        import gameConstants from './src/config/gameConstants.js';
        import config from './src/config/config.js';
        
        // Utils
        import EventEmitter from './src/utils/EventEmitter.js';
        import SaveManager from './src/utils/SaveManager.js';
        
        // Game Objects
        import Evidence from './src/objects/Evidence.js';
        import Button from './src/objects/UI/Button.js';
        import InventoryPanel from './src/objects/UI/InventoryPanel.js';
        
        // Scenes
        import BootScene from './src/scenes/Boot.js';
        import PreloaderScene from './src/scenes/Preloader.js';
        import MainMenuScene from './src/scenes/MainMenu.js';
        import CrimeScene from './src/scenes/CrimeScene.js';
        import InventoryScene from './src/scenes/Inventory.js';
        import GameOverScene from './src/scenes/GameOver.js';
        import MuseumScene from './src/scenes/MuseumDirector.js';

        // Main Game Initialization
        const gameConfig = {
            type: Phaser.AUTO,
            parent: 'game',
            width: 1000,
            height: 600,
            scale: {
                mode: Phaser.Scale.FIT,
                autoCenter: Phaser.Scale.CENTER_BOTH
            },
            physics: {
                default: 'arcade',
                arcade: {
                    gravity: { y: 300 },
                    debug: false
                }
            },
            scene: [
                BootScene,         // These should match your scene imports
                PreloaderScene,
                MainMenuScene,
                CrimeScene,
                InventoryScene,
                GameOverScene,
                MuseumScene
            ]
        };

        const game = new Phaser.Game(gameConfig);
    </script>
</body>
</html>
